---
import type { CollectionEntry } from "astro:content";

interface Props {
  article: CollectionEntry<"articles">;
}

const { article } = Astro.props;
---

<article class="rounded-xl border border-[var(--color-muted)]/30 bg-[var(--color-surface)]/40 p-5">
  <h3 class="font-heading text-xl text-[var(--color-text)]">
    <a class="hover:text-[var(--color-accent)]" href={`/articles/${article.slug}/`}>{article.data.title}</a>
  </h3>
  <p class="mt-2 text-sm text-[var(--color-muted)]">{article.data.description}</p>
  <p class="mt-3 text-xs text-[var(--color-muted)]">
    <time datetime={article.data.date.toISOString()}>
      {article.data.date.toLocaleDateString("en-US", {
        year: "numeric",
        month: "short",
        day: "numeric",
      })}
    </time>
    <span class="mx-2">•</span>
    <span>{article.data.readingTime} min read</span>
    {article.data.tags.length > 0 && <span class="mx-2">•</span>}
    {article.data.tags.map((tag, index) => (
      <>
        <span>{tag}</span>
        {index < article.data.tags.length - 1 && <span class="mx-1">·</span>}
      </>
    ))}
  </p>
</article>
